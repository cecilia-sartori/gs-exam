<!DOCTYPE html>

<html>

  <script src="/assets/global/jquery-3.6.0.min.js"></script>

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>
    Shortest path - The worst neighborhood to be a Women in Mexico City
    
  </title>

  <meta name="description" content="A geospatial analysis of gender-based violence locations">

  <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

  <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script>

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="http://localhost:4000/4_streetNxAnalysis/">
  <link rel="alternate" type="application/rss+xml" title="The worst neighborhood to be a Women in Mexico City" href="/feed.xml">

</head>


<body>

  <!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand" href="/"> 
      <img class="logo-dark" src="/img/unitn_logo_dark.png" alt="">
      <img class="logo-light" src="/img/unitn_logo_light.png" alt="">
    
    </a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      Menu
      <i class="fa fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/1_intro">intro</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/2_mapping">mapping vaw</a>
        </li> 
        <li class="nav-item">
          <a class="nav-link" href="/3_spatialCorr">spatial analysis</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/4_streetNxAnalysis">street network</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/5_conclusion">conclusion</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="https://github.com/cecilia-sartori/gs-exam">git hub</a>
        </li>
      </ul>
    </div>
  </div>
</nav>


  <!-- Page Header -->

<header class="masthead" style="background-image: url('/img/bg_streetnx.jpg')">
  
    <div class="overlay"></div>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <div class="page-heading">
            <h1>Shortest path</h1>
            
            <span class="subheading">investigating street network</span>
            
          </div>
        </div>
      </div>
    </div>
  </header>

  <script src="/assets/global/anchor.min.js"></script>

  <script>
	$(function() {
		anchors.options.visible = 'touch'; 
		anchors.add('.post-content > h1, h2');
	});
</script>


  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">

        <p>So far, I have inspected VAW locations to understand their distribution in the urban environment. Imported, cleaned, sorted and plotted with basemaps. Proved the postive spatial correlation and detected which parts of the city have the stronger relationships with the surrounding units.</p>

<p>This project now comes to its last part: investigating the help centres accessibility by answering to the question ‘Where is the closest help centre from my place of living?’.</p>

<p>Detecting the areas with low help centres accessibility can represent an important element in VAW alleviation.</p>

<p>To meet the goal, I have to retieve the buildings, find the nearest help centre and calculate the shortest path.</p>

<p>Required modules*:</p>

<ul>
  <li>OSMnx for retrieving buildings and network from Open Street Map and calculating shortest-paths</li>
  <li>Shapely for getting the nearest point</li>
</ul>

<p><span style="white-space: pre"></span></p>

<p>*exclude description of modules imported in the previous steps</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Import modules
</span><span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="n">gpd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">folium</span>
<span class="kn">from</span> <span class="nn">folium</span> <span class="kn">import</span> <span class="n">plugins</span>

<span class="c1"># for network and non analysis
</span><span class="kn">import</span> <span class="nn">osmnx</span> <span class="k">as</span> <span class="n">ox</span>
<span class="kn">from</span> <span class="nn">shapely.ops</span> <span class="kn">import</span> <span class="n">nearest_points</span>

<span class="c1"># avoid messages
</span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="p">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s">'ignore'</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="get-buildings-footprint-from-osm">Get buildings footprint from OSM</h2>

<p><code class="language-plaintext highlighter-rouge">OSMnx</code> provides the possibility to obtain the building representation from OpenStreetMap by simply entering key-value pairs for tags and name of the place.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tags</span> <span class="o">=</span> <span class="p">{</span><span class="s">'building'</span><span class="p">:</span> <span class="bp">True</span><span class="p">}</span>
<span class="n">buildings</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="n">geometries_from_place</span><span class="p">(</span><span class="s">"Mexico City, Mexico"</span><span class="p">,</span> <span class="n">tags</span><span class="p">)</span>
</code></pre></div></div>

<p>Display the outputs:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">buildings</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">markersize</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span>
               <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">12</span><span class="p">))</span>

<span class="n">plt</span><span class="p">.</span><span class="n">axis</span><span class="p">(</span><span class="s">'off'</span><span class="p">)</span> 
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="/img/4_streetNxAnalysis/output_6_0.png" alt="png" /></p>

<p>It is evident that several buildings are not present on the map. Consequently, the resulting help centre accessibility would be partial and unreliable. In light of this, I prefer to use AGEB geographies. Note that, despite being partial, the number of buildings is high:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">len</span><span class="p">(</span><span class="n">buildings</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>116401
</code></pre></div></div>

<p>Thus, using these data will be computationally demanding, especially when calculating the nearest center.</p>

<h2 id="import-ageb-geographies">Import AGEB geographies</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Read the data
</span><span class="n">gdfa</span> <span class="o">=</span> <span class="n">gpd</span><span class="p">.</span><span class="n">read_file</span><span class="p">(</span><span class="s">'data/VAW_AGEB_clean_lag.gjson'</span><span class="p">)</span>
</code></pre></div></div>

<p>Like buildings, AGEBs are polygons. I have to choose a point of the geometry from which calculate the distance.
In order to get more accurate results, I have to reproject the data to the local UTM.</p>

<p><img src="/img/4_streetNxAnalysis/UTM_CDMX.png" alt="utm" />
<a href="https://mangomap.com/robertyoung/maps/69585/what-utm-zone-am-i-in-#">source</a></p>

<p>For Mexico City, it is <a href="https://epsg.io/6369">UTM14N</a>.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">gdfa</span> <span class="o">=</span> <span class="n">gdfa</span><span class="p">.</span><span class="n">to_crs</span><span class="p">(</span><span class="n">epsg</span><span class="o">=</span><span class="mi">6369</span><span class="p">)</span> <span class="c1">#reproject to CDMX UTM
</span></code></pre></div></div>

<p>And find the centroid:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">gdfa</span><span class="p">[</span><span class="s">'centroid'</span><span class="p">]</span> <span class="o">=</span> <span class="n">gdfa</span><span class="p">.</span><span class="n">centroid</span>
<span class="n">gdfa</span><span class="p">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div></div>

<div>
<div class="table-wrapper">
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CVEGEO</th>
      <th>POBTOT</th>
      <th>PRESOE15</th>
      <th>P5_HLI</th>
      <th>POB_AFRO</th>
      <th>GRAPROES</th>
      <th>PDESOCUP</th>
      <th>PSINDER</th>
      <th>VPH_SINLTC</th>
      <th>VPH_SINCINT</th>
      <th>VAW_COUNT</th>
      <th>VAW_per_1000</th>
      <th>VAW_per_1000_LAG</th>
      <th>geometry</th>
      <th>centroid</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0900200010148</td>
      <td>2513.0</td>
      <td>85.0</td>
      <td>16.0</td>
      <td>70.0</td>
      <td>13.26</td>
      <td>39.0</td>
      <td>498.0</td>
      <td>4.0</td>
      <td>90.0</td>
      <td>7</td>
      <td>2.785515</td>
      <td>2.238242</td>
      <td>POLYGON ((478281.827 2156260.877, 478307.065 2...</td>
      <td>POINT (477965.009 2155945.484)</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0900200010190</td>
      <td>8920.0</td>
      <td>602.0</td>
      <td>113.0</td>
      <td>218.0</td>
      <td>11.55</td>
      <td>134.0</td>
      <td>2011.0</td>
      <td>76.0</td>
      <td>600.0</td>
      <td>34</td>
      <td>3.811659</td>
      <td>3.507377</td>
      <td>POLYGON ((480069.413 2156118.108, 480081.995 2...</td>
      <td>POINT (479795.113 2155570.427)</td>
    </tr>
  </tbody>
</table>
</div>
</div>

<p>Now import the Help Centre locations.</p>

<h2 id="get-help-centre-locations-from-cdmx-open-data-portal">Get Help Centre Locations from CDMX Open Data Portal</h2>

<p>The data set is licensed under the open data licence (CC BY 4.0).</p>

<ul>
  <li>
    <p><strong>Date source</strong>:</p>

    <p><a href="https://datos.cdmx.gob.mx/dataset/servicios-de-atencion-a-violencia-contra-las-mujeres/resource/6f553628-ab08-43fe-87a3-810b41464850">Help  Centre for Violence against Women - Mexico City Open Data Portal</a></p>
  </li>
  <li>
    <p><strong>Data Structure</strong>:</p>

    <p>Structure of the data is described in a separate excel file (<a href="https://datos.cdmx.gob.mx/dataset/servicios-de-atencion-a-violencia-contra-las-mujeres/resource/d7916650-b9b3-4e4a-9a69-4479a6995724">download here</a>)</p>
  </li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Read the data
</span><span class="n">gdf</span> <span class="o">=</span> <span class="n">gpd</span><span class="p">.</span><span class="n">read_file</span><span class="p">(</span><span class="s">'data/servicios_de_atencion_a_violencia_contra_las_mujeres/servicios_de_atencion_a_violencia_contra_las_mujeres.shp'</span><span class="p">)</span>
<span class="n">gdf</span> <span class="o">=</span> <span class="n">gdf</span><span class="p">[</span><span class="n">gdf</span><span class="p">[</span><span class="s">'_id'</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">28</span><span class="p">]</span>
<span class="n">gdf</span><span class="p">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</code></pre></div></div>

<div>
<div class="table-wrapper">
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>_id</th>
      <th>id</th>
      <th>id_ente</th>
      <th>id_sede</th>
      <th>nmbr___</th>
      <th>calle</th>
      <th>nmr_xtr</th>
      <th>nmr_ntr</th>
      <th>colonia</th>
      <th>alcaldi</th>
      <th>...</th>
      <th>mdds_d_</th>
      <th>apr____</th>
      <th>infrm__</th>
      <th>prfls_s</th>
      <th>vsts_d_</th>
      <th>a_______</th>
      <th>at______</th>
      <th>i______</th>
      <th>geopont</th>
      <th>geometry</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0</td>
      <td>FGJ</td>
      <td>FGJ-005</td>
      <td>Coordinacion Territorial Az-1 y Az-3</td>
      <td>Av de las Culturas y eje 5 Norte</td>
      <td>S/N</td>
      <td>S/N</td>
      <td>San Martin Xochinahuac</td>
      <td>Azcapotzalco</td>
      <td>...</td>
      <td>Sí</td>
      <td>Sí</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>19.5105948,-99.1915796</td>
      <td>POINT (-99.19158 19.51059)</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>1</td>
      <td>FGJ</td>
      <td>FGJ-007</td>
      <td>Coordinación Territorial BJ-3 y Bj-4</td>
      <td>Avenida Cuauhtémoc esquina Obrero Mundial</td>
      <td>S/N</td>
      <td>S/N</td>
      <td>Navarte</td>
      <td>Benito Juárez</td>
      <td>...</td>
      <td>Sí</td>
      <td>Sí</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>19.4018736,-99.1556199</td>
      <td>POINT (-99.15562 19.40187)</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>2</td>
      <td>FGJ</td>
      <td>FGJ-010</td>
      <td>Coordinación Territorial Coy-2</td>
      <td>Zompantitla Esq. Tecualiapan</td>
      <td>S/N</td>
      <td>S/N</td>
      <td>Romero de Terreros</td>
      <td>Coyoacán</td>
      <td>...</td>
      <td>Sí</td>
      <td>Sí</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>None</td>
      <td>19.3444204,-99.1666016</td>
      <td>POINT (-99.16660 19.34442)</td>
    </tr>
  </tbody>
</table>
<p>3 rows × 43 columns</p>
</div>
</div>

<p>Reproject to Mexico City UTM:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">gdf</span> <span class="o">=</span> <span class="n">gdf</span><span class="p">.</span><span class="n">to_crs</span><span class="p">(</span><span class="n">epsg</span><span class="o">=</span><span class="mi">6369</span><span class="p">)</span>
</code></pre></div></div>

<h1 id="find-nearest-point">Find Nearest Point</h1>

<p>My query is one-to-many, namely from the centrid to all possible help cetres in the city. So, I need to combine all the help centre locations in a sigle list.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">list_points</span> <span class="o">=</span> <span class="n">gdf</span><span class="p">[</span><span class="s">"geometry"</span><span class="p">].</span><span class="n">unary_union</span>
</code></pre></div></div>

<p>And now look for the match. Given the number of points, the following operation will take some time.
Use <code class="language-plaintext highlighter-rouge">shapely - nearest_points</code> to find the closest geometry. Note that the output will refer to the liner distance.
Retrieve the name of the centre for future map displaying.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">%%</span><span class="n">time</span>
<span class="n">points</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">link_value</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">gdfa</span><span class="p">)):</span>
    <span class="n">nearest_geoms</span> <span class="o">=</span> <span class="n">nearest_points</span><span class="p">(</span><span class="n">gdfa</span><span class="p">.</span><span class="n">centroid</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">list_points</span><span class="p">)</span>
    <span class="n">points</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">nearest_geoms</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">points_data</span> <span class="o">=</span> <span class="n">gdf</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span><span class="n">gdf</span><span class="p">[</span><span class="s">"geometry"</span><span class="p">]</span> <span class="o">==</span> <span class="n">points</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
    <span class="n">link_value</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">points_data</span><span class="p">[</span><span class="s">'nmbr___'</span><span class="p">].</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CPU times: user 48.1 s, sys: 0 ns, total: 48.1 s
Wall time: 48.1 s
</code></pre></div></div>

<p>Attach outputs to the AGEB geoDataFrame:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">gdfa</span><span class="p">[</span><span class="s">'closest_centre'</span><span class="p">]</span> <span class="o">=</span>  <span class="n">gpd</span><span class="p">.</span><span class="n">GeoSeries</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">crs</span><span class="o">=</span><span class="s">"EPSG:6369"</span><span class="p">)</span> <span class="c1">#ensure geom format
</span><span class="n">gdfa</span><span class="p">[</span><span class="s">'Name_centre'</span><span class="p">]</span> <span class="o">=</span> <span class="n">link_value</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">gdfa</span><span class="p">.</span><span class="n">info</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;class 'geopandas.geodataframe.GeoDataFrame'&gt;
RangeIndex: 2279 entries, 0 to 2278
Data columns (total 17 columns):
 #   Column            Non-Null Count  Dtype   
---  ------            --------------  -----   
 0   CVEGEO            2279 non-null   object  
 1   POBTOT            2279 non-null   float64 
 2   PRESOE15          2279 non-null   float64 
 3   P5_HLI            2279 non-null   float64 
 4   POB_AFRO          2279 non-null   float64 
 5   GRAPROES          2279 non-null   float64 
 6   PDESOCUP          2279 non-null   float64 
 7   PSINDER           2279 non-null   float64 
 8   VPH_SINLTC        2279 non-null   float64 
 9   VPH_SINCINT       2279 non-null   float64 
 10  VAW_COUNT         2279 non-null   int64   
 11  VAW_per_1000      2279 non-null   float64 
 12  VAW_per_1000_LAG  2279 non-null   float64 
 13  geometry          2279 non-null   geometry
 14  centroid          2279 non-null   geometry
 15  closest_centre    2279 non-null   geometry
 16  Name_centre       2279 non-null   object  
dtypes: float64(11), geometry(3), int64(1), object(2)
memory usage: 302.8+ KB
</code></pre></div></div>

<p>At this point, compute the distance in meters using <code class="language-plaintext highlighter-rouge">geopands distance</code> and convert to km for better understanding.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">gdfa</span><span class="p">[</span><span class="s">'distance'</span><span class="p">]</span> <span class="o">=</span> <span class="n">gdfa</span><span class="p">.</span><span class="n">centroid</span><span class="p">.</span><span class="n">distance</span><span class="p">(</span><span class="n">gdfa</span><span class="p">.</span><span class="n">closest_centre</span><span class="p">)</span>
<span class="n">gdfa</span><span class="p">[</span><span class="s">'dist_km'</span><span class="p">]</span> <span class="o">=</span> <span class="n">gdfa</span><span class="p">[</span><span class="s">'distance'</span><span class="p">]</span> <span class="o">/</span><span class="mi">1000</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">gdfa</span><span class="p">[</span><span class="s">'dist_km'</span><span class="p">].</span><span class="n">describe</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>count    2279.000000
mean        1.169192
std         0.843243
min         0.007343
25%         0.601612
50%         0.985613
75%         1.500619
max         6.715206
Name: dist_km, dtype: float64
</code></pre></div></div>

<p>On average, the distance from AGEB central points to the help centers is approximately 1.5 km, which is not bad, and the maximum distance from a women in danger to a safe place is less than 7 Km. Display distance on a choroplet map and compare it with the spatial lag map.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">f</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">12</span><span class="p">))</span>
<span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span> <span class="o">=</span> <span class="n">axs</span>

<span class="n">gdfa</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">column</span><span class="o">=</span><span class="s">'VAW_per_1000_LAG'</span><span class="p">,</span>
    <span class="n">cmap</span><span class="o">=</span><span class="s">'RdYlGn_r'</span><span class="p">,</span>
    <span class="n">scheme</span><span class="o">=</span><span class="s">'quantiles'</span><span class="p">,</span>
    <span class="n">k</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">edgecolor</span><span class="o">=</span><span class="s">'white'</span><span class="p">,</span>
    <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span>
    <span class="n">alpha</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span>
    <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax1</span>
<span class="p">)</span>
<span class="n">ax1</span><span class="p">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="n">ax1</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">"Rates VAW - LAG"</span><span class="p">)</span>


<span class="n">gdfa</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">column</span><span class="o">=</span><span class="s">'dist_km'</span><span class="p">,</span>
    <span class="n">cmap</span><span class="o">=</span><span class="s">'RdYlGn_r'</span><span class="p">,</span>
    <span class="n">scheme</span><span class="o">=</span><span class="s">'quantiles'</span><span class="p">,</span>
    <span class="n">k</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">edgecolor</span><span class="o">=</span><span class="s">'white'</span><span class="p">,</span>
    <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span>
    <span class="n">alpha</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span>
    <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">ax</span><span class="o">=</span><span class="n">ax2</span>
<span class="p">)</span>
<span class="n">ax2</span><span class="p">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="n">ax2</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">"Distance to Help Centres (Km)"</span><span class="p">)</span>


<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="/img/4_streetNxAnalysis/output_32_0.png" alt="png" /></p>

<p>As in many cities around the world, AGEBs on the outskirts of the city are those with less access to services. The distance values we have found are widely acceptable, but do they correspond to reality?</p>

<h1 id="get-street-network-with-osmnx">Get street network with OSMnx</h1>

<p>As for neighbourhoods, <code class="language-plaintext highlighter-rouge">OSMnx</code> allows to download street network data, project and plot the networks.</p>

<p>It takes the name of the place, and retunrs the network within its boundary. For future calculation, I prefer to retrieve the driving network type.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">G</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="n">graph_from_place</span><span class="p">(</span><span class="s">'Mexico City, Mexico'</span><span class="p">,</span> <span class="n">network_type</span><span class="o">=</span><span class="s">'drive'</span><span class="p">)</span>
</code></pre></div></div>

<p>As for the distance between AGEBs, the same story applies for the network. With <code class="language-plaintext highlighter-rouge">ox.project_graph</code>, the graph will be automatically projected to the local UTM zone.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">G_proj</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="n">project_graph</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</code></pre></div></div>

<p>Since I want to compute distance and travel time from a point A to a point B, I need to impute missing speeds and travel times:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">G_proj</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="n">speed</span><span class="p">.</span><span class="n">add_edge_speeds</span><span class="p">(</span><span class="n">G_proj</span><span class="p">)</span>
<span class="n">G_proj</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="n">speed</span><span class="p">.</span><span class="n">add_edge_travel_times</span><span class="p">(</span><span class="n">G_proj</span><span class="p">)</span>
</code></pre></div></div>

<p><strong>Point A, Point B</strong></p>

<p>Choose according the greatest distance</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">gdfa</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span><span class="n">gdfa</span><span class="p">[</span><span class="s">"dist_km"</span><span class="p">]</span> <span class="o">==</span> <span class="nb">max</span><span class="p">(</span><span class="n">gdfa</span><span class="p">.</span><span class="n">dist_km</span><span class="p">)]</span>
</code></pre></div></div>

<div>
<div class="table-wrapper">
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CVEGEO</th>
      <th>POBTOT</th>
      <th>PRESOE15</th>
      <th>P5_HLI</th>
      <th>POB_AFRO</th>
      <th>GRAPROES</th>
      <th>PDESOCUP</th>
      <th>PSINDER</th>
      <th>VPH_SINLTC</th>
      <th>VPH_SINCINT</th>
      <th>VAW_COUNT</th>
      <th>VAW_per_1000</th>
      <th>VAW_per_1000_LAG</th>
      <th>geometry</th>
      <th>centroid</th>
      <th>closest_centre</th>
      <th>Name_centre</th>
      <th>distance</th>
      <th>dist_km</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>421</th>
      <td>0901200261710</td>
      <td>785.0</td>
      <td>14.0</td>
      <td>22.0</td>
      <td>38.0</td>
      <td>9.95</td>
      <td>6.0</td>
      <td>328.0</td>
      <td>6.0</td>
      <td>90.0</td>
      <td>6</td>
      <td>7.643312</td>
      <td>2.410339</td>
      <td>POLYGON ((479531.480 2125207.628, 479656.893 2...</td>
      <td>POINT (479491.354 2124303.978)</td>
      <td>POINT (478033.049 2130858.925)</td>
      <td>Hospital General  Ajusco Medio</td>
      <td>6715.206217</td>
      <td>6.715206</td>
    </tr>
  </tbody>
</table>
</div>
</div>

<p>To compute distance in OSM network, I need to find the closest nodes (of the network) to my points, <code class="language-plaintext highlighter-rouge">gdfa.centroid</code> and <code class="language-plaintext highlighter-rouge">gdfa.closest_centre</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#specify index of the selected points
</span><span class="n">i</span> <span class="o">=</span> <span class="mi">421</span>

<span class="n">orig_node</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="n">distance</span><span class="p">.</span><span class="n">nearest_nodes</span><span class="p">(</span><span class="n">G_proj</span><span class="p">,</span> <span class="n">X</span><span class="o">=</span><span class="n">gdfa</span><span class="p">.</span><span class="n">centroid</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">x</span><span class="p">,</span> <span class="n">Y</span><span class="o">=</span><span class="n">gdfa</span><span class="p">.</span><span class="n">centroid</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">y</span><span class="p">)</span>
<span class="n">dest_node</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="n">distance</span><span class="p">.</span><span class="n">nearest_nodes</span><span class="p">(</span><span class="n">G_proj</span><span class="p">,</span> <span class="n">X</span><span class="o">=</span><span class="n">gdfa</span><span class="p">.</span><span class="n">closest_centre</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">x</span><span class="p">,</span> <span class="n">Y</span><span class="o">=</span><span class="n">gdfa</span><span class="p">.</span><span class="n">closest_centre</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">y</span><span class="p">)</span>
</code></pre></div></div>

<p>Once nodes are found, time to calculate the routes using two different parameters: length and travel time.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">route1</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="n">shortest_path</span><span class="p">(</span><span class="n">G_proj</span><span class="p">,</span> <span class="n">orig_node</span><span class="p">,</span> <span class="n">dest_node</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s">"length"</span><span class="p">)</span>
<span class="n">route2</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="n">shortest_path</span><span class="p">(</span><span class="n">G_proj</span><span class="p">,</span> <span class="n">orig_node</span><span class="p">,</span> <span class="n">dest_node</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s">"travel_time"</span><span class="p">)</span>
</code></pre></div></div>

<p>Compare the routes:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># import datetime to convert seconds
</span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="n">route1_length</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">ox</span><span class="p">.</span><span class="n">utils_graph</span><span class="p">.</span><span class="n">get_route_edge_attributes</span><span class="p">(</span><span class="n">G_proj</span><span class="p">,</span> <span class="n">route1</span><span class="p">,</span> <span class="s">"length"</span><span class="p">)))</span>
<span class="n">route2_length</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">ox</span><span class="p">.</span><span class="n">utils_graph</span><span class="p">.</span><span class="n">get_route_edge_attributes</span><span class="p">(</span><span class="n">G_proj</span><span class="p">,</span> <span class="n">route2</span><span class="p">,</span> <span class="s">"length"</span><span class="p">)))</span>

<span class="n">route1_time</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">ox</span><span class="p">.</span><span class="n">utils_graph</span><span class="p">.</span><span class="n">get_route_edge_attributes</span><span class="p">(</span><span class="n">G_proj</span><span class="p">,</span> <span class="n">route1</span><span class="p">,</span> <span class="s">"travel_time"</span><span class="p">)))</span>
<span class="n">route2_time</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">ox</span><span class="p">.</span><span class="n">utils_graph</span><span class="p">.</span><span class="n">get_route_edge_attributes</span><span class="p">(</span><span class="n">G_proj</span><span class="p">,</span> <span class="n">route2</span><span class="p">,</span> <span class="s">"travel_time"</span><span class="p">)))</span>


<span class="k">print</span><span class="p">(</span><span class="s">"Route 1 is"</span><span class="p">,</span> <span class="n">route1_length</span><span class="o">/</span><span class="mi">1000</span><span class="p">,</span> <span class="s">"km and takes"</span><span class="p">,</span> <span class="n">datetime</span><span class="p">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span> <span class="o">=</span><span class="n">route1_time</span><span class="p">),</span> <span class="s">"to get there by car."</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"Route 2 is"</span><span class="p">,</span> <span class="n">route2_length</span><span class="o">/</span><span class="mi">1000</span><span class="p">,</span> <span class="s">"km and takes"</span><span class="p">,</span> <span class="n">datetime</span><span class="p">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span> <span class="o">=</span><span class="n">route2_time</span><span class="p">),</span> <span class="s">"to get there by car."</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Route 1 is 10.645 km and takes 0:18:43 to get there by car.
Route 2 is 14.138 km and takes 0:17:46 to get there by car.
</code></pre></div></div>

<p>Route 2 is longer but smoother, resulting in shorter travel time.</p>

<p>Take a look at the distances. These values are rather out of the linear distance range, for which we had 7 km as maximum value. This tell us that linear distance is good to have a general insight on data, but not suitable for accurate analysis.</p>

<h2 id="plotting-routes-on-networks">Plotting routes on Networks</h2>

<p>Plot the shorter route (for travel time) in green and the longer in red.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># plot static map
</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">ox</span><span class="p">.</span><span class="n">plot_graph_routes</span><span class="p">(</span>
    <span class="n">G_proj</span><span class="p">,</span> <span class="n">routes</span><span class="o">=</span><span class="p">[</span><span class="n">route1</span><span class="p">,</span> <span class="n">route2</span><span class="p">],</span> <span class="n">route_colors</span><span class="o">=</span><span class="p">[</span><span class="s">"r"</span><span class="p">,</span> <span class="s">"g"</span><span class="p">],</span> <span class="n">route_linewidth</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
    <span class="n">bgcolor</span><span class="o">=</span><span class="s">'w'</span><span class="p">,</span> <span class="n">edge_linewidth</span><span class="o">=</span><span class="mf">0.2</span><span class="p">)</span>

</code></pre></div></div>

<p><img src="/img/4_streetNxAnalysis/output_50_0.png" alt="png" /></p>

<p>Great! It is easy to understand the best route. However, it is impossible to say which direction to take.
We can solve this by plotting the route in <code class="language-plaintext highlighter-rouge">folium</code>.</p>

<p>First, define a function that returns the shortest route for travel time.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">shortest_time_route</span><span class="p">(</span><span class="n">rt1</span><span class="p">,</span><span class="n">rt2</span><span class="p">,</span><span class="n">r1</span><span class="p">,</span><span class="n">r2</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">rt1</span> <span class="o">&lt;=</span> <span class="n">rt2</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">r1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">r2</span>
</code></pre></div></div>

<p>Store the shortest route in ‘route’ variable.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">route</span> <span class="o">=</span> <span class="n">shortest_time_route</span><span class="p">(</span><span class="n">route1_time</span><span class="p">,</span><span class="n">route2_time</span><span class="p">,</span><span class="n">route1</span><span class="p">,</span><span class="n">route2</span><span class="p">)</span>
</code></pre></div></div>

<p>The route is nothing but the sequence of OSM nodes. Let’s take a look to one node:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">G_proj</span><span class="p">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">orig_node</span><span class="p">]</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{'y': 2124263.8605110194,
 'x': 479429.4467834827,
 'street_count': 3,
 'lon': -99.1956934,
 'lat': 19.211704}
</code></pre></div></div>

<p>Inside every node, we find both the reprojected coordinates, and in the “original” CRS, namely EPSG:4326.
Use this last to build the folium map. First, create a list of the route nodes.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">path</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">nds</span> <span class="ow">in</span> <span class="n">route</span><span class="p">:</span>
    <span class="n">lon</span> <span class="o">=</span> <span class="n">G_proj</span><span class="p">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">nds</span><span class="p">][</span><span class="s">'lon'</span><span class="p">]</span> 
    <span class="n">lat</span> <span class="o">=</span> <span class="n">G_proj</span><span class="p">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">nds</span><span class="p">][</span><span class="s">'lat'</span><span class="p">]</span> 
    <span class="n">path</span><span class="p">.</span><span class="n">append</span><span class="p">([</span><span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">])</span>
    <span class="n">nds</span> <span class="o">+=</span> <span class="mi">1</span>
</code></pre></div></div>

<p>Note that latitude and longitude are inverted in non-reproject network!</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># epsg:3426
</span><span class="n">G</span><span class="p">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">orig_node</span><span class="p">]</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{'y': 19.211704, 'x': -99.1956934, 'street_count': 3}
</code></pre></div></div>

<p>Create the map:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">start_location</span><span class="o">=</span><span class="p">[</span><span class="n">G_proj</span><span class="p">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">orig_node</span><span class="p">][</span><span class="s">'lat'</span><span class="p">],</span> <span class="n">G_proj</span><span class="p">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">orig_node</span><span class="p">][</span><span class="s">'lon'</span><span class="p">]]</span>
<span class="n">direction_m</span> <span class="o">=</span> <span class="n">folium</span><span class="p">.</span><span class="n">Map</span><span class="p">(</span><span class="n">location</span> <span class="o">=</span> <span class="n">start_location</span><span class="p">,</span> <span class="n">zoom_start</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>

<span class="c1">#Add orig marker
</span><span class="n">folium</span><span class="p">.</span><span class="n">Marker</span><span class="p">(</span>
  <span class="n">location</span><span class="o">=</span><span class="p">[</span><span class="n">G_proj</span><span class="p">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">orig_node</span><span class="p">][</span><span class="s">'lat'</span><span class="p">],</span> <span class="n">G_proj</span><span class="p">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">orig_node</span><span class="p">][</span><span class="s">'lon'</span><span class="p">]],</span>
  <span class="n">tooltip</span><span class="o">=</span><span class="s">'Origin'</span><span class="p">,</span>
<span class="p">).</span><span class="n">add_to</span><span class="p">(</span><span class="n">direction_m</span><span class="p">)</span>

<span class="c1">#add dest marker
</span><span class="n">folium</span><span class="p">.</span><span class="n">Marker</span><span class="p">(</span>
  <span class="n">location</span><span class="o">=</span><span class="p">[</span><span class="n">G_proj</span><span class="p">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">dest_node</span><span class="p">][</span><span class="s">'lat'</span><span class="p">],</span> <span class="n">G_proj</span><span class="p">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">dest_node</span><span class="p">][</span><span class="s">'lon'</span><span class="p">]],</span>
  <span class="n">popup</span><span class="o">=</span> <span class="n">gdfa</span><span class="p">[</span><span class="s">'Name_centre'</span><span class="p">].</span><span class="n">values</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
  <span class="n">tooltip</span><span class="o">=</span><span class="s">'Destination'</span><span class="p">,</span>
    <span class="n">icon</span><span class="o">=</span><span class="n">folium</span><span class="p">.</span><span class="n">Icon</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s">'red'</span><span class="p">)</span>
<span class="p">).</span><span class="n">add_to</span><span class="p">(</span><span class="n">direction_m</span><span class="p">)</span>

<span class="n">folium</span><span class="p">.</span><span class="n">plugins</span><span class="p">.</span><span class="n">MiniMap</span><span class="p">().</span><span class="n">add_to</span><span class="p">(</span><span class="n">direction_m</span><span class="p">)</span>

<span class="n">folium</span><span class="p">.</span><span class="n">plugins</span><span class="p">.</span><span class="n">AntPath</span><span class="p">(</span><span class="n">path</span><span class="p">).</span><span class="n">add_to</span><span class="p">(</span><span class="n">direction_m</span><span class="p">)</span>


<span class="c1">#direction_m.save("output/shortest_path.html") #save to a file
#direction_m
</span></code></pre></div></div>

<iframe src="/img/output/shortest_path.html" height="500px" width="100%"></iframe>

<p>Click on destination icon to get the name of the help centre.</p>

<p>The <em>snake flow</em> tells the direction.</p>

<p align="right">
    <a class="btn btn-light" href="/5_conclusion" role="button">Next</a>
</p>


      </div>
    </div>
  </div>


  <!-- Footer -->

<hr>

<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <ul class="list-inline text-center">
          
          <li class="list-inline-item">
            <a href="mailto:cecilia.sartori@studenti.unitn.it">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="far fa-envelope fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          
          
          
          <li class="list-inline-item">
            <a href="https://github.com/cecilia-sartori">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-github fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
        </ul>
        <p class="copyright text-muted">Copyright &copy; cecilia sartori 2022</p>
      </div>
    </div>
  </div>
</footer>


  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="/assets/vendor/startbootstrap-clean-blog/js/scripts.js"></script>

<script src="/assets/scripts.js"></script>





</body>

</html>
